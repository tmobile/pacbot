<!--
 *Copyright 2018 T Mobile, Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); You may not use
 * this file except in compliance with the License. A copy of the License is located at
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * or in the "license" file accompanying this file. This file is distributed on
 * an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or
 * implied. See the License for the specific language governing permissions and
 * limitations under the License.
 -->

 <div class="vulnerability-overall-wrapper relative">
  <div class="sub-head">
    <app-title-burger-head [helpId]="'w4'" [subHeadTitle]="'Overall vulnerabilities compliance'"></app-title-burger-head>
  </div>
  <div  class='cg-container-parent' >
    <div class="vul-values-wrapper flex" *ngIf = "dataComing && !showLoader">
      <div class="vul-each ">
        <div class="each-value" [class.full]='full' [class.medium]='medium' [class.low]='low'>
          {{this.applicationValue.compliantpercent}}<span>%</span> 
        </div>
        <div class="each-value-desc">
            Compliant
        </div>
      </div>
      <div class="vul-each vul-value-border">
          <div class="each-value summary-total-highlight pointer" (click) = "this.applicationValue.vulnerabilities > 0 && navigatePage()" [ngClass]="{'link-text pointer underline-link-num': this.applicationValue.vulnerabilities > 0}">
              {{this.applicationValue.vulnerabilities}}
          </div>
          <div class="each-value-desc">
              Vulnerabilities
          </div>
          <div class="each-value-desc num-host">
              (Across {{this.applicationValue.hosts}} Hosts)
          </div> 
        </div>
    </div>
    <div #widget  class="graph-chart-cont " id="graphCont" [ngClass]="{'hide-this' : graphData == 0}">
      <app-doughnut-chart (error)="getErrorValues($event)" [chartContId] = "'graphCont'" [graphData] = "graphData"  *ngIf = "graphData" [graphWidth]="widgetWidth" [graphHeight]="widgetHeight" [MainTextcolor] = 'MainTextcolor' [innerRadious] = 'innerRadious' [outerRadious] ='outerRadious' [strokeColor]= "strokeColor" (navigatePage) = "navigateDataTable($event)"></app-doughnut-chart>
    </div>

    <div class='severities-note center' *ngIf = "graphData">Note: S3, S4, S5 are vulnerability severities</div>

  </div>
  <article class='center error_handling' *ngIf='!datacoming'>
      <div class="error_msg">
          <app-error-message *ngIf='seekdata == true' [selectedValue]="errorMessage"></app-error-message>
      </div>
  </article>
  <div *ngIf='showLoader' class="loader"></div>
</div>
